import{u as k,j as e}from"./index-Cb-Dioag.js";import{a as c,d as C,X as S,a4 as R,s as A,a5 as z,E as D,b as T,B as U,h as E,a6 as P,u as I,W as O,D as f,a7 as o,J as B,P as L,a8 as p,a9 as _,aa as q}from"./lucide-C0esCekQ.js";import"./react-dom-CLpElbul.js";import"./genai-BER3QIUg.js";const H=()=>{var h;const{data:x,updateData:v,isAdmin:m,setIsAdmin:u}=k(),[l,n]=c.useState(x),[d,N]=c.useState("requests"),b=c.useRef(null);if(c.useEffect(()=>{m&&n(x)},[m,x]),!m)return null;const y=()=>{v(l),alert("✅ تم حفظ كافة التعديلات وتحديث الموقع بنجاح."),u(!1)},r=({id:s,label:i,icon:a,badge:t})=>e.jsxs("button",{onClick:()=>N(s),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap text-xs relative ${d===s?"bg-sky-600 text-white shadow-lg":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:[e.jsx(a,{className:"w-4 h-4"}),i,t&&t>0?e.jsx("span",{className:"absolute -top-2 -left-1 bg-red-500 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full",children:t}):null]});return e.jsxs("div",{className:"fixed inset-0 bg-slate-950/98 z-[500] flex flex-col backdrop-blur-3xl animate-in fade-in duration-300 text-right",dir:"rtl",children:[e.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 p-6 flex justify-between items-center text-white",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(C,{className:"w-8 h-8 text-sky-500"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black font-amiri",children:"لوحة إدارة شركة الإسناد"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase",dir:"ltr",children:"Version 5.0 Professional Edition"})]})]}),e.jsx("button",{onClick:()=>u(!1),className:"bg-slate-800 p-2 rounded-full hover:bg-red-500/20 transition-all border border-slate-700",children:e.jsx(S,{className:"w-6 h-6 text-slate-400"})})]}),e.jsx("div",{className:"bg-slate-900 border-b border-slate-800 p-4 overflow-x-auto scrollbar-hide",children:e.jsxs("div",{className:"flex gap-2 min-w-max px-4",children:[e.jsx(r,{id:"requests",label:"الطلبات",icon:R,badge:l.requests.filter(s=>s.status==="new").length}),e.jsx(r,{id:"branding",label:"الهوية",icon:A}),e.jsx(r,{id:"hero",label:"الرئيسية",icon:z}),e.jsx(r,{id:"vision",label:"الرؤية",icon:D}),e.jsx(r,{id:"values",label:"القيم",icon:T}),e.jsx(r,{id:"services",label:"الخدمات",icon:U}),e.jsx(r,{id:"stats",label:"الأرقام",icon:E}),e.jsx(r,{id:"pricing",label:"الباقات",icon:P}),e.jsx(r,{id:"csr",label:"المسؤولية",icon:I}),e.jsx(r,{id:"settings",label:"الأمان",icon:O}),e.jsx(r,{id:"data_management",label:"البيانات",icon:f})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-12 pb-40",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-10",children:[d==="requests"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"الرسائل الواردة"}),l.requests.map((s,i)=>e.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-6 rounded-3xl relative group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("span",{className:"text-[10px] bg-slate-800 px-3 py-1 rounded-full text-slate-400",children:s.date}),e.jsx("button",{onClick:()=>{const a=[...l.requests];a.splice(i,1),n({...l,requests:a})},className:"text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(o,{size:16})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4 font-bold text-sm",children:[e.jsxs("div",{className:"text-white flex items-center gap-2",children:[e.jsx(B,{size:14,className:"text-sky-500"})," ",s.name]}),e.jsxs("div",{className:"text-slate-400 flex items-center gap-2",dir:"ltr",children:[e.jsx(L,{size:14,className:"text-sky-500"})," ",s.phone]})]}),e.jsx("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800 text-slate-300 text-sm whitespace-pre-wrap",children:s.message})]},s.id))]}),d==="stats"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"إحصائيات النجاح"}),e.jsxs("button",{onClick:()=>{const s=[...l.stats];s.push({id:Date.now().toString(),label:"جديد",value:"0",icon:"Globe"}),n({...l,stats:s})},className:"bg-sky-600 px-4 py-2 rounded-xl text-xs font-bold text-white flex items-center gap-2",children:[e.jsx(p,{size:14})," إضافة إحصائية"]})]}),e.jsx("div",{className:"grid gap-4",children:l.stats.map((s,i)=>e.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl flex flex-col md:flex-row gap-4 items-center border border-slate-800",children:[e.jsx("input",{type:"text",value:s.label,onChange:a=>{const t=[...l.stats];t[i].label=a.target.value,n({...l,stats:t})},className:"admin-input flex-1",placeholder:"المسمى (مثلاً: عميل سعيد)"}),e.jsx("input",{type:"text",value:s.value,onChange:a=>{const t=[...l.stats];t[i].value=a.target.value,n({...l,stats:t})},className:"admin-input w-32 text-center text-sky-500 font-black",placeholder:"القيمة"}),e.jsx("input",{type:"text",value:s.icon,onChange:a=>{const t=[...l.stats];t[i].icon=a.target.value,n({...l,stats:t})},className:"admin-input w-40 text-xs",placeholder:"اسم الأيقونة"}),e.jsx("button",{onClick:()=>{const a=[...l.stats];a.splice(i,1),n({...l,stats:a})},className:"p-3 text-red-500 hover:bg-red-500/10 rounded-xl",children:e.jsx(o,{size:20})})]},i))})]}),d==="branding"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"الهوية البصرية"}),e.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl space-y-4",children:[e.jsx("label",{className:"text-xs text-slate-400",children:"اسم الشركة"}),e.jsx("input",{type:"text",value:l.branding.name,onChange:s=>n({...l,branding:{...l.branding,name:s.target.value}}),className:"admin-input font-bold"})]})]}),d==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"إعدادات الأمان"}),e.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2rem] border border-slate-800 space-y-4",children:[e.jsx("label",{className:"text-xs text-slate-400",children:"كلمة مرور الإدارة"}),e.jsx("input",{type:"text",value:l.adminSettings.password,onChange:s=>n({...l,adminSettings:{password:s.target.value}}),className:"admin-input text-center font-mono tracking-widest"}),e.jsx("p",{className:"text-[10px] text-amber-500",children:"ملاحظة: تأكد من حفظ كلمة المرور الجديدة في مكان آمن."})]})]}),d==="data_management"&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 py-10",children:[e.jsxs("button",{onClick:()=>{const s=JSON.stringify(l,null,2),i=new Blob([s],{type:"application/json"}),a=URL.createObjectURL(i),t=document.createElement("a");t.href=a,t.download=`alesnad_backup_${new Date().toISOString().split("T")[0]}.json`,t.click()},className:"p-10 bg-slate-900 border border-slate-800 rounded-3xl hover:border-sky-500 transition-all text-center",children:[e.jsx(f,{size:40,className:"text-sky-500 mx-auto mb-4"}),e.jsx("span",{className:"block font-bold text-white",children:"تصدير قاعدة البيانات"})]}),e.jsxs("button",{onClick:()=>{var s;return(s=b.current)==null?void 0:s.click()},className:"p-10 bg-slate-900 border border-slate-800 rounded-3xl hover:border-emerald-500 transition-all text-center",children:[e.jsx(_,{size:40,className:"text-emerald-500 mx-auto mb-4"}),e.jsx("span",{className:"block font-bold text-white",children:"استيراد قاعدة بيانات"}),e.jsx("input",{type:"file",ref:b,onChange:s=>{var t;const i=(t=s.target.files)==null?void 0:t[0];if(!i)return;const a=new FileReader;a.onload=w=>{var j;try{const g=JSON.parse((j=w.target)==null?void 0:j.result);n(g),alert("✅ تم تحميل البيانات بنجاح!")}catch{alert("❌ خطأ: ملف غير صالح")}},a.readAsText(i)},className:"hidden",accept:".json"})]})]}),d==="csr"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"المسؤولية الاجتماعية والمكتبة المعرفية"}),e.jsxs("button",{onClick:()=>{const s={...l};s.socialResponsibility=s.socialResponsibility||{title:"المسؤولية الاجتماعية",description:"",initiatives:[],articles:[]},s.socialResponsibility.articles=s.socialResponsibility.articles||[],s.socialResponsibility.articles.unshift({id:Date.now().toString(),title:"مقال جديد",summary:"",pdfUrl:"",date:new Date().toISOString().split("T")[0]}),n(s)},className:"bg-sky-600 px-4 py-2 rounded-xl text-xs font-bold text-white flex items-center gap-2",children:[e.jsx(p,{size:14})," إضافة مقال/بحث"]})]}),e.jsx("div",{className:"grid gap-4",children:(((h=l.socialResponsibility)==null?void 0:h.articles)||[]).map((s,i)=>e.jsx("div",{className:"bg-slate-900 p-6 rounded-2xl flex flex-col md:flex-row gap-4 items-start border border-slate-800",children:e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("label",{className:"text-xs text-slate-400",children:"عنوان المقال / البحث"}),e.jsx("input",{type:"text",value:s.title,onChange:a=>{const t={...l};t.socialResponsibility.articles[i].title=a.target.value,n(t)},className:"admin-input"}),e.jsx("label",{className:"text-xs text-slate-400 mt-3",children:"ملخّص قصير"}),e.jsx("textarea",{value:s.summary,onChange:a=>{const t={...l};t.socialResponsibility.articles[i].summary=a.target.value,n(t)},className:"admin-input",rows:3}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-3 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400",children:"رابط PDF (أو URL)"}),e.jsx("input",{type:"text",value:s.pdfUrl,onChange:a=>{const t={...l};t.socialResponsibility.articles[i].pdfUrl=a.target.value,n(t)},className:"admin-input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400",children:"تاريخ النشر"}),e.jsx("input",{type:"date",value:s.date,onChange:a=>{const t={...l};t.socialResponsibility.articles[i].date=a.target.value,n(t)},className:"admin-input"})]}),e.jsx("div",{className:"flex items-end justify-end",children:e.jsxs("button",{onClick:()=>{const a={...l};a.socialResponsibility.articles.splice(i,1),n(a)},className:"p-3 text-red-500 hover:bg-red-500/10 rounded-xl",children:[e.jsx(o,{size:20})," حذف"]})})]})]})},s.id))}),e.jsxs("div",{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-bold text-white",children:"الدراسات والإعلانات"}),e.jsxs("button",{onClick:()=>{const s={...l};s.studiesAds=s.studiesAds||[],s.studiesAds.unshift({id:Date.now().toString(),title:"دراسة جديدة",date:new Date().toISOString().split("T")[0],type:"دراسة",description:""}),n(s)},className:"bg-slate-800 px-3 py-2 rounded-xl text-xs font-bold text-slate-200 flex items-center gap-2",children:[e.jsx(p,{size:12})," إضافة دراسة/إعلان"]})]}),e.jsx("div",{className:"grid gap-4 mt-4",children:(l.studiesAds||[]).map((s,i)=>e.jsxs("div",{className:"bg-slate-900 p-4 rounded-2xl border border-slate-800 flex gap-4 items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:s.title,onChange:a=>{const t={...l};t.studiesAds[i].title=a.target.value,n(t)},className:"admin-input"}),e.jsx("textarea",{value:s.description,onChange:a=>{const t={...l};t.studiesAds[i].description=a.target.value,n(t)},className:"admin-input mt-2",rows:2})]}),e.jsxs("div",{className:"w-48 flex flex-col gap-2",children:[e.jsx("input",{type:"date",value:s.date,onChange:a=>{const t={...l};t.studiesAds[i].date=a.target.value,n(t)},className:"admin-input"}),e.jsxs("select",{value:s.type,onChange:a=>{const t={...l};t.studiesAds[i].type=a.target.value,n(t)},className:"admin-input",children:[e.jsx("option",{children:"دراسة"}),e.jsx("option",{children:"إعلان"})]}),e.jsxs("button",{onClick:()=>{const a={...l};a.studiesAds.splice(i,1),n(a)},className:"p-3 text-red-500 hover:bg-red-500/10 rounded-xl",children:[e.jsx(o,{size:18})," حذف"]})]})]},s.id))})]})]})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-8 border-t border-slate-800 bg-slate-950/95 backdrop-blur-xl flex justify-center z-[600]",children:e.jsxs("button",{onClick:y,className:"w-full max-w-lg py-5 bg-sky-600 hover:bg-sky-500 text-white rounded-2xl font-black text-xl flex items-center justify-center gap-4 shadow-2xl transition-all hover:scale-[1.02]",children:[e.jsx(q,{size:24})," حفظ كافة التعديلات واعتمادها"]})}),e.jsx("style",{children:`
        .admin-input { width: 100%; background: #020617; border: 1px solid #1e293b; border-radius: 1rem; padding: 1rem; color: white; outline: none; text-align: right; transition: all 0.2s; font-size: 14px; }
        .admin-input:focus { border-color: #0ea5e9; box-shadow: 0 0 0 4px rgba(14, 165, 233, 0.1); }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
      `})]})};export{H as default};
