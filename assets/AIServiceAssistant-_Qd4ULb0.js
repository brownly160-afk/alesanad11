import{j as e,g}from"./index-iVBnqXbL.js";import{a,a2 as h,a3 as j,X as w,O as v}from"./lucide-C0esCekQ.js";import"./react-dom-CLpElbul.js";import"./genai-BER3QIUg.js";const z=()=>{const[l,x]=a.useState(!1),[o,i]=a.useState([{role:"model",text:"أهلاً بك في شركة الإسناد. أنا مساعدك الذكي، كيف يمكنني دعم رؤيتك المؤسسية اليوم؟"}]),[r,m]=a.useState(""),[d,u]=a.useState(!1),p=a.useRef(null),f=()=>{var s;(s=p.current)==null||s.scrollIntoView({behavior:"smooth"})};a.useEffect(()=>{l&&f()},[o,l]);const b=async()=>{if(!r.trim()||d)return;const s=r.trim();i(t=>[...t,{role:"user",text:s}]),m(""),u(!0);try{const t=o.map(n=>({role:n.role==="model"?"model":"user",parts:[{text:n.text}]})),c=await g(s,t);i(n=>[...n,{role:"model",text:c||"عذراً، لم أستطع الحصول على رد."}])}catch{i(c=>[...c,{role:"model",text:"عذراً، هناك خلل في الاتصال بالذكاء الاصطناعي."}])}finally{u(!1)}};return e.jsxs(e.Fragment,{children:[!l&&e.jsxs("button",{onClick:()=>x(!0),className:"fixed bottom-10 left-10 p-5 bg-sky-600 text-white rounded-full shadow-[0_15px_50px_rgba(14,165,233,0.5)] hover:scale-110 active:scale-95 transition-all z-[200] flex items-center gap-4 group border border-white/20",children:[e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"w-8 h-8"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 border-2 border-white rounded-full animate-pulse"})]}),e.jsx("span",{className:"max-w-0 overflow-hidden group-hover:max-w-xs transition-all duration-500 whitespace-nowrap font-black text-sm tracking-tight",children:"استشارة ذكية فورية"})]}),l&&e.jsxs("div",{className:"fixed bottom-10 left-10 w-[92vw] md:w-[450px] h-[680px] bg-slate-900 border border-slate-800 rounded-[3.5rem] shadow-2xl flex flex-col z-[300] overflow-hidden animate-in zoom-in slide-in-from-bottom-20 duration-500",children:[e.jsxs("div",{className:"bg-gradient-to-br from-sky-700 via-blue-800 to-slate-900 p-8 flex justify-between items-center text-white relative",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 pointer-events-none"}),e.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[e.jsx("div",{className:"w-14 h-14 bg-white/10 rounded-2xl flex items-center justify-center backdrop-blur-xl border border-white/20 shadow-inner",children:e.jsx(h,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-black text-xl flex items-center gap-2",children:["مستشار الإسناد ",e.jsx(j,{size:16,className:"text-sky-300 animate-pulse"})]}),e.jsxs("p",{className:"text-[10px] opacity-70 font-black uppercase tracking-[0.2em] flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-emerald-400 rounded-full"})," Online Assistant"]})]})]}),e.jsx("button",{onClick:()=>x(!1),className:"p-3 hover:bg-white/10 rounded-full transition-colors relative z-10",children:e.jsx(w,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 bg-slate-950/60 backdrop-blur-md scrollbar-hide",children:[o.map((s,t)=>e.jsx("div",{className:`flex ${s.role==="user"?"justify-start animate-in slide-in-from-right-4":"justify-end animate-in slide-in-from-left-4"}`,children:e.jsx("div",{className:`max-w-[85%] p-6 rounded-[2rem] text-sm md:text-base leading-relaxed shadow-xl ${s.role==="user"?"bg-sky-600 text-white rounded-br-none":"bg-slate-800/80 text-slate-200 rounded-bl-none border border-slate-700/50"}`,children:s.text})},t)),d&&e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"bg-slate-800/50 p-5 rounded-3xl rounded-bl-none border border-slate-700",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce"}),e.jsx("span",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),e.jsx("span",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce [animation-delay:-0.3s]"})]})})}),e.jsx("div",{ref:p})]}),e.jsxs("div",{className:"p-8 bg-slate-900 border-t border-slate-800/50",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r,onChange:s=>m(s.target.value),onKeyPress:s=>s.key==="Enter"&&b(),placeholder:"اسأل مستشارك الذكي الآن...",className:"w-full pl-16 pr-6 py-5 bg-slate-800/40 border border-slate-700 rounded-2xl text-white outline-none focus:border-sky-500 focus:ring-4 focus:ring-sky-500/10 transition-all font-medium"}),e.jsx("button",{onClick:b,disabled:d||!r.trim(),className:"absolute left-3 top-1/2 -translate-y-1/2 p-3 bg-sky-600 text-white rounded-xl hover:bg-sky-500 disabled:opacity-40 transition-all shadow-lg active:scale-95",children:e.jsx(v,{size:20})})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-[9px] text-slate-500 font-black uppercase tracking-widest opacity-60 flex items-center justify-center gap-2",children:["Powered by Gemini 2.0 ",e.jsx("div",{className:"w-1 h-1 bg-slate-700 rounded-full"})," Professional AI Support"]})})]})]})]})};export{z as default};
